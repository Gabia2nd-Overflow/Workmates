📌 Workmates – Thread & Post 기능 구조 요약
1. 전체 아키텍처 개요

프론트엔드: React (React Router v6, Axios, Tailwind), WebSocket(STOMP) 클라이언트

백엔드: Spring Boot + JPA + Security(JWT)

데이터 계층 구조

Workshop(워크샵) → Thread(게시판) → Post(게시글) → Comment(댓글)

2. Thread(스레드, 하이웍스 게시판)
📦 Entity

id: 스레드 식별자

name: 스레드 제목

workshopId: 상위 워크샵 ID

🛠 Controller & Service

GET /api/workshops/{workshopId}/threads → 스레드 목록 조회

POST /api/workshops/{workshopId}/threads → 스레드 생성

🎨 Front

ThreadSection.jsx

Sidebar에서 스레드 목록 표시

+ 버튼으로 새 스레드 생성 가능

클릭 시 → /workshops/{workshopId}/threads/{threadId} 로 이동

3. Post(게시글)
📦 Entity (Post.java)

id: 게시글 식별자

title: 제목

content: 본문

writerId: 작성자 ID

writerNickname: 작성자 닉네임

threadId: 소속된 Thread ID

viewCount: 조회수

createdAt, writtenAt: 작성/등록 시간

isDeleted: 삭제 여부

🛠 Controller & Service

GET /api/workshops/{workshopId}/threads/{threadId}/posts → 스레드 내 게시글 목록 조회

POST /api/workshops/{workshopId}/threads/{threadId}/posts → 게시글 작성

GET /api/workshops/{workshopId}/threads/{threadId}/posts/{postId} → 단일 게시글 조회

POST /api/workshops/{workshopId}/threads/{threadId}/posts/{postId}/views → 조회수 증가

조회수는 ThreadDetail에서 클릭 시 1회 증가하고, PostDetail에서는 중복 증가를 막음.

🎨 Front

ThreadDetail.jsx

게시글 목록을 테이블로 출력 (번호, 제목, 작성자, 작성일, 조회수, 댓글수, 카테고리)

검색 및 정렬(작성일, 조회수, 댓글 수) 지원

클릭 시 → /workshops/{workshopId}/threads/{threadId}/posts/{postId} 이동

PostDetail.jsx

게시글 제목, 작성자, 작성일, 조회수 표시

본문 출력

댓글(Comment) 목록 및 작성 폼 포함

Axios로 /api/posts/{postId} 및 /api/posts/{postId}/comments 호출

4. Comment(댓글) (추가 예정)

Entity

id, postId, writerId, writerNickname, content, createdAt

API

GET /api/posts/{postId}/comments

POST /api/posts/{postId}/comments

Front

PostDetail에서 댓글 리스트와 입력창을 함께 표시

5. 인증 & 보안

모든 요청은 JWT 기반 인증을 거침

React api.js에 Axios 인터셉터 적용 → Authorization: Bearer <token> 자동 첨부

Post/Comment 생성 시 → 백엔드에서 토큰으로 userId, nickname 확인 후 저장

6. 현재 상태와 다음 단계

✅ 구현 완료

Workshop/Thread/Post 기본 CRUD

JWT 로그인/회원가입 연동

게시글 작성 및 조회, 조회수 증가

댓글 엔드포인트 설계

🚀 다음 단계

댓글(Comment) CRUD 정식 구현

게시글/댓글 수정·삭제

파일 첨부(Attachment) 확장 (Post, Comment에도 적용)

알림/멘션, 권한(Role) 제어

📑 결론

현재 구조는 워크샵 → 스레드 → 게시글 → 댓글 계층으로 안정적으로 설계되어 있음.
프론트는 Sidebar 네비게이션을 따라 이동하면서 각각의 상세 컴포넌트를 렌더링하고,
백엔드는 Spring Boot + JPA + JWT 구조로 REST API를 제공.

👉 이 문서만 읽으면 신규 개발자도 바로 Post & Thread 기능을 이어받아 확장 개발할 수 있음.


