1. 메신저 기능 구현 전체 작업 순서 계획

# 1️⃣ 기획 단계

### 🔹 UI 기준 기능 정의
- 채널 목록 및 채널별 메시지 렌더링
- 1:1 다이렉트 메시지(DM)
- 이모지/파일 첨부 기능
- 안 읽은 메시지 알림 배지

### 🔹 MVP 핵심 기능
- 채널/DM 목록
- 메시지 전송 및 실시간 수신
- 메시지 저장/조회
- 파일 첨부 기능
- 기본 이모지 입력

---

## 2️⃣ 개발 단계

### ✅ 백엔드 개발

#### 📌 DB 설계 (예시)

| 테이블 | 주요 컬럼 |
|--------|-----------|
| `users` | id, name, email, avatar_url |
| `channels` | id, name, is_private, created_at |
| `messages` | id, content, sender_id, channel_id, created_at, type (text, image, file, emoji) |
| `direct_messages` | id, sender_id, receiver_id, content, created_at |
| `channel_members` | user_id, channel_id |
| `files` | id, file_url, file_name, uploader_id, message_id (optional) |

#### 📌 기능 로직
- 유저 인증 (JWT 또는 OAuth2)
- 채널 참여/조회
- 메시지 저장 및 조회
- WebSocket 기반 실시간 처리
- 파일 업로드 (S3 or 로컬)

---

### ✅ 프론트엔드 개발

#### 📌 주요 컴포넌트
- `Sidebar`: 채널 및 DM 목록
- `ChatRoom`: 메시지 렌더링
- `MessageItem`: 메시지 한 줄 (이모지/파일 포함)
- `MessageInput`: 입력창 + 파일 첨부 + 이모지 버튼

#### 📌 기술 스택 제안
- React + Zustand or Redux
- WebSocket 클라이언트 (native WebSocket or SockJS)
- Axios 또는 React Query
- 파일 업로드: `FormData` 사용

---

## 3️⃣ 연동 단계

### ✅ 실시간 통신 구조

- WebSocket (권장) 또는 SSE 사용
- 채널/DM 구분 채널로 접속
- 메시지 수신 → UI에 자동 반영

### ✅ REST API 명세 예시

| Method | URL | 설명 |
|--------|-----|------|
| GET | `/channels` | 전체 채널 목록 조회 |
| GET | `/channels/{id}/messages` | 채널 메시지 조회 |
| POST | `/channels/{id}/messages` | 메시지 전송 |
| POST | `/channels/{id}/upload` | 파일 첨부 |
| GET | `/users/{id}/dms` | DM 목록 조회 |
| POST | `/users/{id}/dms` | DM 전송 |

---

## 4️⃣ 테스트 단계

### 🔍 단위 테스트
- 유저, 채널, 메시지 저장/조회
- WebSocket 송수신 테스트
- 파일 업로드 기능 테스트

### 🧪 통합 테스트
- 채널 입장 → 메시지 수신 → 메시지 전송 → 파일 첨부 전체 흐름 확인
- 여러 유저 동시 접속 처리 확인

### ✅ MVP 테스트 체크리스트
- [ ] 채널 목록/선택 가능
- [ ] 메시지 송수신 가능
- [ ] 파일 첨부 가능
- [ ] 이모지 입력 가능
- [ ] WebSocket 실시간 반영
- [ ] 알림 배지 정상 작동

---

## 📌 추가 팁

- WebSocket 메시지 전송 + REST 메시지 조회 혼합 구성 추천
- 메시지 타입: 텍스트 / 파일 / 이모지 등으로 분리 관리
- 초기 MVP에서는 Redis Pub/Sub 없이 단일 서버 구조도 충분



--------------------------------------------------------------------------
기획 단계 
### [1-1] 사용자 흐름(User Flow) 간단히 정리
- [사용자 로그인] 
- → [사이드바에서 채널/DM 선택] 
- → [채팅창 렌더링] 
- → [메시지 입력 + 전송] 
- → [파일 첨부 or 이모지 입력] 
- → [실시간 메시지 수신] 
### 🔹 [1-2] MVP 핵심 기능 목록 정의
기능	설명	우선순위
채널 목록 표시	참여한 채널 및 DM 리스트 출력	★★★
채널 선택 시 채팅창 전환	각 채널의 메시지 조회	★★★
메시지 전송	텍스트 메시지 입력 및 전송	★★★
메시지 수신	WebSocket 등으로 실시간 수신	★★★
채널/DM 구분	목록과 메시지 데이터 구분	★★★
파일 첨부	이미지, 문서 등 전송 가능	★★☆
이모지 입력	기본 이모지 선택 및 출력	★★☆
알림 배지	안 읽은 메시지 개수 표시	★★☆

### 🔹 [1-3] 사용자 역할 정의
사용자 유형	권한
일반 사용자	채널/DM 메시지 조회, 전송, 첨부
관리자 (Optional)	채널 생성/초대/삭제 등 (v1 제외 가능)

### 🔹 [1-4] 화면 구성 정의 (바뀔 가능성 높음.)
화면 영역	기능 요소
좌측 사이드바	채널/DM 목록, 알림 배지
상단 헤더	채널명, 사용자 메뉴
메시지 타임라인	메시지 출력 (이름, 시간, 내용, 첨부파일)
메시지 입력창	입력박스 + 파일 버튼 + 이모지 버튼 + 전송 버튼

### Chatroom 구조 .
[프론트엔드 (React, HTML, Postman 등)]
          ⬇️    ↑
  @PostMapping / @GetMapping (Controller)
          ⬇️    ↑
       Service → DB (JPA, Repository)
