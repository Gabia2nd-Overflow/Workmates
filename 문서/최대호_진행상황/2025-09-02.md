# ğŸ“Œ Workmates - Workshop ìƒì„± & ë©¤ë²„ ê´€ë¦¬ ê¸°ëŠ¥ ìš”ì•½

## âœ… ê°œìš”
ì›Œí¬ìƒµ(Workshop)ì€ í˜‘ì—… ë©”ì‹ ì €ì˜ **ìµœìƒìœ„ ê³µê°„**ì…ë‹ˆë‹¤.  
ì´ë²ˆì— êµ¬í˜„í•œ ê¸°ëŠ¥ì€ **ì›Œí¬ìƒµ ìƒì„± ì‹œ ìƒì„±ìë¥¼ ìë™ìœ¼ë¡œ ë©¤ë²„(WorkshopMember)ì— ì¶”ê°€**í•˜ê³ ,  
**ì‚¬ìš©ìê°€ ì†í•´ ìˆëŠ” ì›Œí¬ìƒµë§Œ ì¡°íšŒ**ë˜ë„ë¡ ì œí•œí•˜ëŠ” ë¡œì§ì…ë‹ˆë‹¤.

---

## ğŸ“¦ ë„ë©”ì¸ êµ¬ì¡°

### Workshop (Entity)
- `id`: ì›Œí¬ìƒµ ì‹ë³„ì (PK)
- `name`: ì›Œí¬ìƒµ ì´ë¦„ (Unique, Not Null)
- `imageUrl`: ì›Œí¬ìƒµ ì•„ì´ì½˜ ì´ë¯¸ì§€
- `description`: ì„¤ëª…
- `isDeleted`: ì†Œí”„íŠ¸ ì‚­ì œ ì—¬ë¶€ (ê¸°ë³¸ê°’ false)

### User (Entity)
- `id`: ì‚¬ìš©ì ê³„ì • ID (PK)
- `nickname`: ë‹‰ë„¤ì„
- `email`: ì´ë©”ì¼

### WorkshopMember (Entity)
- `id`: ë©¤ë²„ ì‹ë³„ì (PK)
- `user`: ì–´ë–¤ ì‚¬ìš©ìì¸ì§€ (User FK)
- `workshop`: ì–´ë–¤ ì›Œí¬ìƒµì— ì†í–ˆëŠ”ì§€ (Workshop FK)
- `role`: ê¶Œí•œ (ì˜ˆ: CREATOR, MEMBER)

---

## âš™ï¸ ê¸°ëŠ¥ íë¦„

### 1) ì›Œí¬ìƒµ ìƒì„±
1. í´ë¼ì´ì–¸íŠ¸ê°€ **ì›Œí¬ìƒµ ìƒì„± ìš”ì²­** (`POST /api/workshops`) ì „ì†¡
2. ì„œë²„(Service):
   - ìƒˆ Workshop ì—”í‹°í‹° ìƒì„± ë° ì €ì¥
   - ë™ì‹œì— **WorkshopMember ì—”í‹°í‹° ìƒì„±**
     - `user = í˜„ì¬ ë¡œê·¸ì¸í•œ ì‚¬ìš©ì`
     - `role = CREATOR`
   - ë‘ ì—”í‹°í‹°ë¥¼ DBì— ì €ì¥
3. ì‘ë‹µìœ¼ë¡œ ìƒì„±ëœ Workshop ì •ë³´ ë°˜í™˜

---

### 2) ì›Œí¬ìƒµ ì¡°íšŒ ì œí•œ
- ê¸°ì¡´: ëª¨ë“  ì›Œí¬ìƒµì„ ì¡°íšŒí•  ìˆ˜ ìˆì—ˆìŒ
- ë³€ê²½ í›„: `findAllByUserId(userId)` ë°©ì‹ìœ¼ë¡œ **í˜„ì¬ ë¡œê·¸ì¸í•œ ì‚¬ìš©ìê°€ ì†í•œ ì›Œí¬ìƒµë§Œ ì¡°íšŒ**  
- Repository ê³„ì¸µ ì˜ˆì‹œ:
```java
@Query("SELECT wm.workshop FROM WorkshopMember wm WHERE wm.user.id = :userId AND wm.workshop.isDeleted = false")
List<Workshop> findWorkshopsByUserId(@Param("userId") String userId);
ğŸ› ì»¨íŠ¸ë¡¤ëŸ¬ & ì„œë¹„ìŠ¤ ìš”ì•½
Controller
@PostMapping("/api/workshops")
public WorkshopDto.Response create(@RequestBody @Valid WorkshopDto.CreateRequest req,
                                   @AuthenticationPrincipal User user) {
    return workshopService.create(req, user);
}

@GetMapping("/api/workshops")
public List<WorkshopDto.Response> list(@AuthenticationPrincipal User user) {
    return workshopService.list(user.getId());
}

Service
@Transactional
public WorkshopDto.Response create(CreateRequest req, User user) {
    Workshop workshop = workshopRepository.save(
        Workshop.builder()
            .name(req.getWorkshopName())
            .imageUrl(req.getWorkshopIconImage())
            .description(req.getWorkshopDescription())
            .build()
    );

    workshopMemberRepository.save(
        WorkshopMember.builder()
            .user(user)
            .workshop(workshop)
            .role("CREATOR")
            .build()
    );

    return WorkshopDto.Response.from(workshop);
}

public List<WorkshopDto.Response> list(String userId) {
    return workshopMemberRepository.findWorkshopsByUserId(userId)
        .stream()
        .map(WorkshopDto.Response::from)
        .toList();
}

ğŸ“‘ ë°ì´í„° íë¦„ ì •ë¦¬

ì›Œí¬ìƒµ ìƒì„± ìš”ì²­

í”„ë¡ íŠ¸: Axios â†’ POST /api/workshops

ë°±ì—”ë“œ: Workshop + WorkshopMember ë™ì‹œ ì €ì¥

ì›Œí¬ìƒµ ì¡°íšŒ

í”„ë¡ íŠ¸: Axios â†’ GET /api/workshops

ë°±ì—”ë“œ: ë¡œê·¸ì¸ ìœ ì € ê¸°ì¤€ WorkshopMember â†’ Workshop ëª©ë¡ ë°˜í™˜

ê²°ê³¼

ìƒì„±ìëŠ” ìë™ìœ¼ë¡œ ë©¤ë²„ë¡œ ë“±ë¡ë¨

ì‚¬ìš©ìëŠ” ìì‹ ì´ ì†í•œ ì›Œí¬ìƒµë§Œ Sidebar ë“±ì— í‘œì‹œë¨

ğŸ“Œ ì •ë¦¬

ì›Œí¬ìƒµ ìƒì„± ì‹œ, ìë™ìœ¼ë¡œ WorkshopMemberì— ì¶”ê°€ë˜ì–´ íŒ€ ê´€ë¦¬ê°€ ê°„ë‹¨í•´ì§

ì¡°íšŒ ì œí•œì„ ê±¸ì–´ ë³´ì•ˆ ë° ì ‘ê·¼ ì œì–´ ê°•í™”

êµ¬ì¡°ëŠ” Workshop â†” WorkshopMember â†” User ì‚¼ê° ê´€ê³„ë¥¼ í†µí•´ í™•ì¥ì„± ìˆê²Œ ì„¤ê³„ë¨
(ì˜ˆ: ì¶”í›„ ê¶Œí•œ(Role) ë¶€ì—¬, ì´ˆëŒ€/ì¶”ë°© ê¸°ëŠ¥ êµ¬í˜„ ê°€ëŠ¥)